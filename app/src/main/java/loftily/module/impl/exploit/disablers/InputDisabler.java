package loftily.module.impl.exploit.disablers;

import loftily.event.impl.player.motion.MotionEvent;
import loftily.module.impl.exploit.Disabler;
import loftily.utils.client.PacketUtils;
import loftily.value.impl.mode.Mode;
import net.lenni0451.lambdaevents.EventHandler;
import net.minecraft.network.play.client.CPacketInput;
import net.minecraft.util.MovementInput;

public class InputDisabler extends Mode<Disabler> {
    public InputDisabler() {
        super("Input");
    }

    @EventHandler
    public void onMotion(MotionEvent event) {
        if(event.isPre()){
            MovementInput movementInput = mc.player.movementInput;
            PacketUtils.sendPacket(new CPacketInput(
                    movementInput.moveStrafe,
                    movementInput.moveForward,
                    movementInput.jump,
                    movementInput.sneak));
        }
    }
}
