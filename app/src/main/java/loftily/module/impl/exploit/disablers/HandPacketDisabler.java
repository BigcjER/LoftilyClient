package loftily.module.impl.exploit.disablers;

import loftily.event.impl.world.UpdateEvent;
import loftily.module.impl.exploit.Disabler;
import loftily.utils.client.PacketUtils;
import loftily.value.impl.BooleanValue;
import loftily.value.impl.mode.Mode;
import net.lenni0451.lambdaevents.EventHandler;
import net.minecraft.network.play.client.CPacketPlayerTryUseItem;
import net.minecraft.util.EnumHand;

public class HandPacketDisabler extends Mode<Disabler> {
    private final BooleanValue mainHand = new BooleanValue("HandPacket-MainHand", false);
    private final BooleanValue offHand = new BooleanValue("HandPacket-OffHand", false);
    
    public HandPacketDisabler() {
        super("HandPacket");
    }
    
    @EventHandler
    public void onUpdate(UpdateEvent event) {
        if (mainHand.getValue()) {
            PacketUtils.sendPacket(new CPacketPlayerTryUseItem(EnumHand.MAIN_HAND));
        }
        if (offHand.getValue()) {
            PacketUtils.sendPacket(new CPacketPlayerTryUseItem(EnumHand.OFF_HAND));
        }
    }
}
