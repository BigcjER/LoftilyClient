package loftily.module.impl.exploit.disablers;

import loftily.event.impl.player.motion.MotionEvent;
import loftily.module.impl.exploit.Disabler;
import loftily.utils.client.PacketUtils;
import loftily.value.impl.mode.Mode;
import loftily.value.impl.mode.ModeValue;
import loftily.value.impl.mode.StringMode;
import net.lenni0451.lambdaevents.EventHandler;
import net.minecraft.network.play.client.CPacketPlayer;

public class LargePositionDisabler extends Mode<Disabler> {
    public LargePositionDisabler() {
        super("LargePos");
    }

    private final ModeValue modeValue = new ModeValue("LargePos-Mode","Extra",this,
            new StringMode("Extra"),
            new StringMode("Edit"));

    @EventHandler
    public void onMotion(MotionEvent event) {
        if(event.isPre()){
            switch (modeValue.getValueByName()){
                case "Extra":
                    PacketUtils.sendPacket(
                            new CPacketPlayer.Position(
                                   Integer.MAX_VALUE, -Integer.MAX_VALUE,Integer.MAX_VALUE,true
                            ),true
                    );
                    break;
                case "Edit":
                    event.setX(Integer.MAX_VALUE);
                    event.setY(-Integer.MAX_VALUE);
                    event.setZ(Integer.MAX_VALUE);
                    break;
            }
        }
    }
}
